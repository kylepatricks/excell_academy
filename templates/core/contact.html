<!-- templates/core/contact.html -->
{% extends 'base.html' %}

{% block title %}Contact Support - Excel Academy{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h1 class="display-4 fw-bold text-primary mb-4">Contact Support</h1>
                <p class="lead mb-4">We're here to help you with any questions or concerns about your ward's education.</p>
                <div class="d-flex justify-content-center gap-3">
                    <a href="#contact-form" class="btn btn-primary btn-lg">Send Message</a>
                    <a href="tel:+2341234567890" class="btn btn-outline-primary btn-lg">
                        <i class="fas fa-phone me-2"></i> Call Now
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Information -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mb-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="icon-box bg-primary text-white mx-auto mb-4">
                            <i class="fas fa-phone fa-2x"></i>
                        </div>
                        <h4 class="card-title">Phone Support</h4>
                        <p class="card-text">Speak directly with our support team</p>
                        <div class="mt-3">
                            <a href="tel:+2341234567890" class="btn btn-outline-primary">
                                <i class="fas fa-phone me-2"></i> +234 123 456 7890
                            </a>
                        </div>
                        <p class="text-muted small mt-3">Mon-Fri: 8:00 AM - 5:00 PM</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 mb-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="icon-box bg-success text-white mx-auto mb-4">
                            <i class="fas fa-envelope fa-2x"></i>
                        </div>
                        <h4 class="card-title">Email Support</h4>
                        <p class="card-text">Send us an email and we'll respond promptly</p>
                        <div class="mt-3">
                            <a href="mailto:support@excelacademy.edu" class="btn btn-outline-success">
                                <i class="fas fa-envelope me-2"></i> support@excelacademy.edu
                            </a>
                        </div>
                        <p class="text-muted small mt-3">Response within 24 hours</p>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 mb-4">
                <div class="card border-0 shadow-sm h-100 text-center">
                    <div class="card-body p-4">
                        <div class="icon-box bg-info text-white mx-auto mb-4">
                            <i class="fas fa-map-marker-alt fa-2x"></i>
                        </div>
                        <h4 class="card-title">Visit Campus</h4>
                        <p class="card-text">Visit our campus for in-person support</p>
                        <div class="mt-3">
                            <a href="https://maps.google.com" target="_blank" class="btn btn-outline-info">
                                <i class="fas fa-directions me-2"></i> Get Directions
                            </a>
                        </div>
                        <p class="text-muted small mt-3">123 Education Avenue, Knowledge City</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form -->
<section id="contact-form" class="py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow border-0">
                    <div class="card-header bg-primary text-white py-4">
                        <h3 class="card-title mb-0 text-center">
                            <i class="fas fa-headset me-2"></i>Send us a Message
                        </h3>
                    </div>
                    <div class="card-body p-5">
                        {% if messages %}
                        <div class="mb-4">
                            {% for message in messages %}
                            <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
                                {{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                            </div>
                            {% endfor %}
                        </div>
                        {% endif %}

                        <form method="post" action="{% url 'contact' %}">
                            {% csrf_token %}
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name" class="form-label">Your Name *</label>
                                    <input type="text" class="form-control" id="name" name="name" 
                                           value="{% if user.is_authenticated %}{{ user.get_full_name }}{% endif %}" 
                                           required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="email" name="email" 
                                           value="{% if user.is_authenticated %}{{ user.email }}{% endif %}" 
                                           required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="subject" class="form-label">Subject *</label>
                                <select class="form-select" id="subject" name="subject" required>
                                    <option value="">Select a subject...</option>
                                    <option value="Report Card Issues">Report Card Issues</option>
                                    <option value="Fee Payment Problems">Fee Payment Problems</option>
                                    <option value="Academic Concerns">Academic Concerns</option>
                                    <option value="Technical Support">Technical Support</option>
                                    <option value="General Inquiry">General Inquiry</option>
                                    <option value="Complaint">Complaint</option>
                                    <option value="Suggestion">Suggestion</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="message" class="form-label">Message *</label>
                                <textarea class="form-control" id="message" name="message" rows="5" 
                                          placeholder="Please describe your issue or question in detail..." required></textarea>
                            </div>

                            <div class="mb-3">
                                <label for="urgency" class="form-label">Urgency Level</label>
                                <select class="form-select" id="urgency" name="urgency">
                                    <option value="low">Low - General inquiry</option>
                                    <option value="medium" selected>Medium - Need response within 48 hours</option>
                                    <option value="high">High - Urgent attention needed</option>
                                </select>
                            </div>

                            <div class="mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="newsletter" name="newsletter" checked>
                                    <label class="form-check-label" for="newsletter">
                                        Subscribe to school updates and newsletters
                                    </label>
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-paper-plane me-2"></i> Send Message
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <h2 class="text-center mb-5">Frequently Asked Questions</h2>
                
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                How long does it take to get a response?
                            </button>
                        </h3>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                We typically respond to all inquiries within 24-48 hours. Urgent matters are prioritized and may receive a response within a few hours.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                Can I request a specific teacher to contact me?
                            </button>
                        </h3>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, you can specify if you'd like to be contacted by a particular teacher or staff member in your message. We'll do our best to accommodate your request.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                What information should I include in my message?
                            </button>
                        </h3>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Please include your ward's full name, class, and any relevant details about your inquiry. For technical issues, include screenshots if possible and describe what you were doing when the issue occurred.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h3 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                Do you provide support on weekends?
                            </button>
                        </h3>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Our phone support is available Monday-Friday from 8:00 AM to 5:00 PM. Email support is monitored during weekends, but responses may take longer during these times.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Emergency Support -->
<section class="py-5 bg-warning bg-opacity-10">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <div class="alert alert-warning border-warning">
                    <h4><i class="fas fa-exclamation-triangle me-2"></i>Emergency Support</h4>
                    <p class="mb-2">For urgent matters requiring immediate attention outside business hours:</p>
                    <a href="tel:+2341234567890" class="btn btn-warning me-2">
                        <i class="fas fa-phone me-2"></i> Emergency Hotline
                    </a>
                    <a href="mailto:emergency@excelacademy.edu" class="btn btn-outline-warning">
                        <i class="fas fa-envelope me-2"></i> Emergency Email
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.icon-box {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
}

.accordion-button:not(.collapsed) {
    background-color: #0d6efd;
    color: white;
}

.accordion-button:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}
</style>
{% endblock %}